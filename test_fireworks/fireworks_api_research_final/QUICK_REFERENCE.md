# ‚ö° FIREWORKS WHISPER V3 TURBO - –ö–†–ê–¢–ö–ê–Ø –°–ü–†–ê–í–ö–ê

## üéØ TL;DR - –û–ü–¢–ò–ú–ê–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

```python
{
    "vad_model": "whisperx-pyannet",      # ‚≠ê –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–∞
    "alignment_model": "mms_fa",          # ‚≠ê –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏
    "preprocessing": "soft_dynamic",      # ‚≠ê –î–ª—è —Ä–µ—á–µ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
    "temperature": 0.0,                   # ‚≠ê –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
    "response_format": "verbose_json",    # ‚≠ê –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è —Ç–∞–π–º–∏–Ω–≥–æ–≤
    "timestamp_granularities": ["word", "segment"],  # ‚≠ê –ü–æ–ª—É—á–∏—Ç—å –æ–±–∞
    "prompt": "–≠—Ç–æ –≤–∏–¥–µ–æ —Å —É—Å—Ç–Ω–æ–π —Ä–µ—á—å—é. –°–æ—Ö—Ä–∞–Ω—è–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ..."
}
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –ü–ê–†–ê–ú–ï–¢–†–û–í

### vad_model

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å | –ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----------|----------|----------|--------------|--------------|
| silero | ‚ùå "–ü—Ä–æ–µ —É—Ç—Ä–æ" | ‚ö° –ë—ã—Å—Ç—Ä–æ | 82% | –ù–µ—Ç |
| **whisperx-pyannet** | **‚úÖ "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ"** | –ú–µ–¥–ª–µ–Ω–Ω–æ | 87% | **–î–ê ‚úÖ** |

### alignment_model

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∞–π–º–∏–Ω–≥–∏ | Word-level | –ü—Ä–æ–±–ª–µ–º—ã |
|----------|----------|------------|----------|
| **mms_fa** | **‚úÖ ~5s** | ‚ùå –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ | –ù–µ—Ç | **–î–ê ‚úÖ** |
| tdnn_ffn | ‚ùå ~20s | ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ | –°–¥–≤–∏–≥+—É–∂–∏–º–∞–Ω–∏–µ | –ù–µ—Ç |

### preprocessing

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å | –î–ª—è —á–µ–≥–æ |
|----------|----------|----------|----------|
| none | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ–µ | ‚ö°‚ö° 7.9s | –ß–∏—Å—Ç—ã–π –∑–≤—É–∫ |
| dynamic | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ–µ | ‚ö°‚ö°‚ö° 6.0s | –£–Ω–∏–≤–µ—Ä—Å–∞–ª |
| **soft_dynamic** | **‚úÖ –õ—É—á—à–µ–µ** | 17.3s | **–†–µ—á—å/–ø–æ–¥–∫–∞—Å—Ç—ã** ‚úÖ |
| bass_dynamic | ‚ùå –•—É–∂–µ | ‚ö° 10.9s | –ú—É–∑—ã–∫–∞ |

### temperature

| –ó–Ω–∞—á–µ–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----------|--------|--------------|
| **0.0** | –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | **–î–ê ‚úÖ** |
| 0.01-0.02 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ | –ú–æ–∂–Ω–æ |

---

## üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –§–ê–ö–¢–´

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏**: –ù–∞—á–∞–ª–æ –Ω–∞ ~4.96s (—Ä–µ–∞–ª—å–Ω–æ!)
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç**: "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ" (—Å whisperx-pyannet + prompt)
3. **–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç segments –ò words

### ‚ùå –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
1. **–ù–ï–¢ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö word-level —Ç–∞–π–º–∏–Ω–≥–æ–≤**
2. **–°–ª–æ–≤–∞ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º**: 87 –≥—Ä—É–ø–ø –∏–∑ 3698 —Å–ª–æ–≤
3. **–í—Å–µ —Å–ª–æ–≤–∞ –≤ —Å–µ–≥–º–µ–Ω—Ç–µ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–∞–π–º–∏–Ω–≥**

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è:
1. **whisperx-pyannet –ë–ï–ó prompt** ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–ª–æ–≤–∞ ‚ùå
2. **whisperx-pyannet –° prompt** ‚Üí –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
3. **silero** ‚Üí –ø–ª–æ—Ö–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç prompt ‚ùå
4. **tdnn_ffn** ‚Üí –¥–∞–µ—Ç word-level, –Ω–æ —Å –æ—à–∏–±–∫–æ–π –≤ 20s ‚ùå
5. **hallucination_score** ‚Üí –ù–ï –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ–∫—Å—Ç–∞!

---

## üì¶ –°–¢–†–£–ö–¢–£–†–ê –û–¢–í–ï–¢–ê (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)

```json
{
  "text": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç...",
  "duration": 2032.60,
  "language": "ru",
  
  "segments": [  // 87 —Å–µ–≥–º–µ–Ω—Ç–æ–≤
    {
      "text": "–ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ!",
      "audio_start": 4.958,     // ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –Ω–∞—á–∞–ª–æ
      "audio_end": 28.466,      // ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω–µ—Ü
      "words": [                // –°–ª–æ–≤–∞ –≤ —Å–µ–≥–º–µ–Ω—Ç–µ
        {"word": "–ü—Ä–∏–≤–µ—Ç!", "start": 4.958, "end": 4.958},
        {"word": "–î–æ–±—Ä–æ–µ", "start": 4.958, "end": 4.958}
      ]
    }
  ],
  
  "words": [  // 3698 —Å–ª–æ–≤ (–≤—Å–µ)
    {"word": "–ü—Ä–∏–≤–µ—Ç!", "start": 4.958, "end": 4.958, "probability": 0.7}
  ]
}
```

### ‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:
- –í—Å–µ —Å–ª–æ–≤–∞ –≤ –æ–¥–Ω–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ –∏–º–µ—é—Ç **–û–î–ò–ù–ê–ö–û–í–´–ï** start –∏ end
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `segment.audio_start/audio_end` –¥–ª—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- `segment.words[i].start/end` = `segment.start/end` (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞!)

---

## üöÄ –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô –ö–û–î

```python
import aiohttp
import json

async def transcribe(audio_path: str, api_key: str):
    url = "https://audio-turbo.api.fireworks.ai/v1/audio/transcriptions"
    
    async with aiohttp.ClientSession() as session:
        with open(audio_path, "rb") as f:
            data = aiohttp.FormData()
            data.add_field("file", f, filename="audio.mp3")
            data.add_field("model", "whisper-v3-turbo")
            data.add_field("language", "ru")
            data.add_field("vad_model", "whisperx-pyannet")
            data.add_field("alignment_model", "mms_fa")
            data.add_field("preprocessing", "soft_dynamic")
            data.add_field("temperature", "0.0")
            data.add_field("response_format", "verbose_json")
            data.add_field("timestamp_granularities[]", "word")
            data.add_field("timestamp_granularities[]", "segment")
            data.add_field("prompt", "–≠—Ç–æ –≤–∏–¥–µ–æ —Å —É—Å—Ç–Ω–æ–π —Ä–µ—á—å—é. –°–æ—Ö—Ä–∞–Ω—è–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤...")
            
            headers = {"Authorization": f"Bearer {api_key}"}
            async with session.post(url, headers=headers, data=data) as response:
                return await response.json()
```

---

## üìù –î–õ–Ø –°–£–ë–¢–ò–¢–†–û–í

```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ segments, –ù–ï words
for segment in result["segments"]:
    start = segment["audio_start"]     # ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
    end = segment["audio_end"]         # ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
    text = segment["text"]             # ‚úÖ –¢–µ–∫—Å—Ç —Å–µ–≥–º–µ–Ω—Ç–∞
    
    # –°–æ–∑–¥–∞–µ–º —Å—É–±—Ç–∏—Ç—Ä
    print(f"[{start:.2f}s -> {end:.2f}s]")
    print(f"{text}\n")
```

---

## ‚ö†Ô∏è –ß–ï–ì–û –ù–ï –î–ï–õ–ê–¢–¨

1. ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `response_format="json"` ‚Üí –Ω–µ –±—É–¥–µ—Ç segments/words
2. ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `alignment_model="tdnn_ffn"` –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ ‚Üí —Å–¥–≤–∏–≥ 20s
3. ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `vad_model="silero"` ‚Üí —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ
4. ‚ùå –ù–ï –∑–∞–±—ã–≤–∞–π—Ç–µ `prompt` ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —Å–ª–æ–≤–∞
5. ‚ùå –ù–ï –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ `words[i].start` –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Ç–∞–π–º–∏–Ω–≥–æ–≤ ‚Üí –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
6. ‚ùå –ù–ï –¥—É–º–∞–π—Ç–µ —á—Ç–æ `hallucination_score=1.0` = –ø–ª–æ—Ö–æ ‚Üí —ç—Ç–æ –ø—Ä–æ alignment

---

## ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –î–ï–õ–ê–¢–¨

1. ‚úÖ `response_format="verbose_json"` - –∏–Ω–∞—á–µ –Ω–µ—Ç —Ç–∞–π–º–∏–Ω–≥–æ–≤
2. ‚úÖ `timestamp_granularities=["word", "segment"]` - –ø–æ–ª—É—á–∏—Ç—å –æ–±–∞
3. ‚úÖ `vad_model="whisperx-pyannet"` - –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
4. ‚úÖ `alignment_model="mms_fa"` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `prompt` - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞
6. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `segment.audio_start/end` –¥–ª—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤

---

## üìä –¢–ê–ô–ú–ò–ù–ì–ò (–ü–†–ò–ú–ï–†)

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (mms_fa):
```
Segment 0: [4.96s - 28.47s] "–ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! ..."
  ‚îî‚îÄ –ü—Ä–∏–≤–µ—Ç!  [4.96s]  ‚Üê –≥—Ä—É–ø–ø–∞
  ‚îî‚îÄ –î–æ–±—Ä–æ–µ   [4.96s]  ‚Üê –≥—Ä—É–ø–ø–∞
  ‚îî‚îÄ —É—Ç—Ä–æ!    [4.96s]  ‚Üê –≥—Ä—É–ø–ø–∞
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (tdnn_ffn):
```
Segment 0: [20.75s - 44.26s]  ‚Üê –°–î–í–ò–ì –Ω–∞ 20s!
  ‚îî‚îÄ –ü—Ä–∏–≤–µ—Ç!  [20.75s]
  ‚îî‚îÄ –î–æ–±—Ä–æ–µ   [20.85s]
  ‚îî‚îÄ —É—Ç—Ä–æ!    [21.10s]
```

---

## üéØ –ò–¢–û–ì –í –û–î–ù–û–ú –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ò

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `whisperx-pyannet` + `mms_fa` + `soft_dynamic` + `prompt` + `verbose_json` –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, –Ω–æ –ø–æ–º–Ω–∏—Ç–µ —á—Ç–æ word-level —Ç–∞–π–º–∏–Ω–≥–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º.**

---

*–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: RESEARCH_SUMMARY.md*

